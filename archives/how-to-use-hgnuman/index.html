<!DOCTYPE HTML>
<html lang="zh-CN">
    <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="renderer" content="webkit">
    <meta name="HandheldFriendly" content="true">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
    <meta name="keywords" content="珂泽笔记,疯知识,风也的小站,风也温柔,wiki,blog" />
    <meta name="generator" content="Maverick 1.1" />
    <meta name="template" content="Kepler" />
    <link rel="alternate" type="application/rss+xml" title="ICE WIKI &raquo; RSS 2.0" href="https://wiki.170601.xyz/feed/index.xml" />
    <link rel="alternate" type="application/atom+xml" title="ICE WIKI &raquo; ATOM 1.0" href="https://wiki.170601.xyz/feed/atom/index.xml" />
    <link rel="stylesheet" href="https://wiki.170601.xyz/assets/kepler-426969802d.css">
    <link rel="stylesheet" href="https://wiki.170601.xyz/assets/ExSearch/ExSearch-182e5a8868.css">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/font-awesome@4.7.0/css/font-awesome.min.css">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/tocbot@4.10.0/dist/tocbot.css">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/nprogress@0.2.0/nprogress.css">
    <script>
        var ExSearchConfig = {
            root: "",
            api: "https://wiki.170601.xyz/698069cf31779ba1ab87d984740f4b32.json"
        }
    </script>
    <script>
        document.addEventListener('DOMContentLoaded', function(){
            if(/Safari/.test(navigator.userAgent) && !/Chrome/.test(navigator.userAgent)){
                document.body.classList.add('safari')
            }else{
                document.body.classList.remove('safari')
            }
        });
    </script>
    
<title>教室报修管理系统（HGNUMAN）项目文档 - ICE WIKI</title>
<meta name="author" content="珂泽" />
<meta name="description" content="系统介绍" />
<meta property="og:title" content="教室报修管理系统（HGNUMAN）项目文档 - ICE WIKI" />
<meta property="og:description" content="系统介绍" />
<meta property="og:site_name" content="ICE WIKI" />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://wiki.170601.xyz/archives/how-to-use-hgnuman/" />
<meta property="og:image" content="" />
<meta property="article:published_time" content="2021-07-15T11:46:00-00.00" />
<meta name="twitter:title" content="教室报修管理系统（HGNUMAN）项目文档 - ICE WIKI" />
<meta name="twitter:description" content="系统介绍" />
<meta name="twitter:card" content="summary" />
<meta name="twitter:image" content="" />


    
<meta http-equiv="x-dns-prefetch-control" content="on">
<meta http-equiv="Cache-Control" content="no-cache" />
<link rel="dns-prefetch" href="//www.170601.xyz" />
<link rel="icon" type="image/ico" href="https://www.170601.xyz/favicon.ico">


    </head>
    
    <body class="content">
        <header>
            <div class="container">
                <section>
                    <a href="https://wiki.170601.xyz/"><img src="https://cravatar.cn/avatar/d47c36eff7f7bb6c2ddd129bfec21cd3?s=600&r=G&d=">ICE WIKI</a>
                </section>
                <section>
                    <nav>
                        <ul>
                            
                                <li><a href="https://www.170601.xyz" target="_blank">HOME</a></li>
                            
                                <li><a href="https://www.kezez.com" target="_blank">BLOG</a></li>
                            
                                <li><a href="https://github.com/kaygb" target="_blank">GITHUB</a></li>
                            
                        </ul>
                    </nav>
                </section>
    
                <section>
                    <a hidden class="toggle-toc" target="_self" href="javascript:void(0)" onclick="$(body).toggleClass('toc-open')"><i class="fa fa-align-right"></i></a>
                    <a hidden class="toggle-navbar" target="_self" href="javascript:void(0)" onclick="$(body).toggleClass('navbar-open')"><i class="fa fa-indent"></i></a>
                    <button class="search-form-input"><i class="fa fa-search"></i></button>
                </section>
            </div>
        </header>

        <main>
            <div id="pjax-container" class="container">
                <aside id="navbar" class="no-scrollbar">
                    
                    <section class="sidebar-nav">
                        
                            <div class="None" ><span><a href="https://wiki.170601.xyz/">最新发布</a></span></div>
                        
                            <div class="None" ><span><a href="https://wiki.170601.xyz/archives/">全部文档</a></span></div>
                        
                            <div class="None" ><span><a href="https://wiki.170601.xyz/about/">关于本站</a></span></div>
                        
                    </section>
                    
                    <section>
                        
    <div class="open "><span><a href="https://wiki.170601.xyz/category/项目文档/">项目文档</a><button class="toggle_sidebar fa"></button></span><ul><li class="current"><a href="https://wiki.170601.xyz/archives/how-to-use-hgnuman/">教室报修管理系统（HGNUMAN）项目文档</a></li><li class=""><a href="https://wiki.170601.xyz/archives/zh-doc-of-typecho-theme-winds/">Typecho theme winds 使用文档</a></li></ul></div>

                    </section>
                    <section hidden class="sidebar-external-link">
                        
                            <div class="external"><span><a href="https://www.170601.xyz">HOME</a><button class="go-external"><i class="fa fa-external-link"></i></button></span></div>
                        
                            <div class="external"><span><a href="https://www.kezez.com">BLOG</a><button class="go-external"><i class="fa fa-external-link"></i></button></span></div>
                        
                            <div class="external"><span><a href="https://github.com/kaygb">GITHUB</a><button class="go-external"><i class="fa fa-external-link"></i></button></span></div>
                        
                    </section>
                    <section class="maverick">
                        <div><span style="border: 1px solid #d4dadf;"><a href="https://github.com/AlanDecode/Maverick" target="_blank">Maverick & Kepler</a></span></div>
                    </section>
                </aside>
                <div id="content-wrapper">
                    <div id="content">
    <section>
        <h1 class="post-title">教室报修管理系统（HGNUMAN）项目文档</h1>
        <p class="post-meta">
            <time>July 15 2021</time>
            <span class="tags">
                
                <span>
                    <a href="https://wiki.170601.xyz/tag/HGNUMAN/">#HGNUMAN</a>
                </span>
                
                <span>
                    <a href="https://wiki.170601.xyz/tag/教室报修管理系统/">#教室报修管理系统</a>
                </span>
                
            </span>
        </p>
        <article class="yue"><h2>系统介绍</h2>
<p>一款为校园内教室设备报修而设计的系统，包括两种角色：管理员和信息员 。<del>包括三种角色（管理员，维修人员，普通用户）</del></p>
<p>报修流程：</p>
<ol>
<li>信息员登入系统，点击故障报修，选择故障对象的位置和故障分类，填写故障描述，上传故障照片。</li>
<li>管理员通过后台导出故障数据提交给维修公司维修。</li>
<li>信息员查看所报修对象是否维修完成，并在系统确认维修状态。</li>
</ol>
<h2>使用帮助</h2>
<h3>普通用户</h3>
<p>注册账号或者使用管理员分配的账号登录到系统中</p>
<p><figure><img data-width="1230" data-height="894" src="https://wiki.170601.xyz/archives/assets/56c227b6fe44ff5f7bbc3299717623d5.png" alt="hgnuman-help1" /><figcaption>hgnuman-help1</figcaption></figure></p>
<p><figure><img data-width="1932" data-height="927" src="https://wiki.170601.xyz/archives/assets/4c5a273c1b31b3c0a1b423f520b3f8e7.png" alt="image-20210715150911713" /><figcaption>image-20210715150911713</figcaption></figure></p>
<p>点击左侧栏创建维修单，填写教室信息，故障描述，选择设备分类和所在教学楼。</p>
<p><figure><img data-width="348" data-height="735" src="https://wiki.170601.xyz/archives/assets/0573d3b2bf2516db2643a725919da6e6.gif" alt="" /></figure></p>
<p>![(images/hgnuman/xtys.gif)</p>
<p>上传照片，需要您使用系统相机拍照之后，点击上传图片按钮选择相应照片上传，上传完成会显示预览图片，点击创建即可。</p>
<p>创建完成之后，点击侧边栏我提交的维修单，即可看到维修单状态，请在所报修任务维修完成之后（一般一周之后），如已维修，请点击审核通过按钮，完成审核。每学期统计数据将以审核完成的数量为主发放学分。</p>
<blockquote><p>信息员请自行审核报修任务是否维修完成</p>
</blockquote>
<p><figure><img data-width="510" data-height="842" src="https://wiki.170601.xyz/archives/assets/48969a2d572daf36d0595aaa78627c9d.png" alt="image-20210715151422227" /><figcaption>image-20210715151422227</figcaption></figure></p>
<h3>管理员</h3>
<p>系统在第一次安装运行后，默认设置第一个注册的用户为管理员。</p>
<p>管理员可查看全部维修单，并导出维修单。</p>
<p>首次登录成功请在系统设置内设置系统域名用于数据导出的图片展示，如<code>https://mana.eas1.cn</code>(最后请不要添加斜杠)</p>
<p>系统初始化应包含以下步骤：</p>
<ol>
<li>添加校区</li>
</ol>
<p><figure><img data-width="1614" data-height="719" src="https://wiki.170601.xyz/archives/assets/da6561cb67a60095b74556da04a1655a.png" alt="image-20210715152245430" /><figcaption>image-20210715152245430</figcaption></figure></p>
<ol>
<li>添加教学楼和教室</li>
</ol>
<p><figure><img data-width="1659" data-height="449" src="https://wiki.170601.xyz/archives/assets/ea11bb431effa4f11b8fc274e3d17a13.png" alt="image-20210715152347359" /><figcaption>image-20210715152347359</figcaption></figure></p>
<p><figure><img data-width="1008" data-height="484" src="https://wiki.170601.xyz/archives/assets/846cc81f792ce7a4449829d2265130fd.png" alt="image-20210715152336394" /><figcaption>image-20210715152336394</figcaption></figure></p>
<ol>
<li>创建分类</li>
</ol>
<p><figure><img data-width="1504" data-height="713" src="https://wiki.170601.xyz/archives/assets/3df173bbb0ac9e24ad3778a6c123e0cc.png" alt="image-20210715152412011" /><figcaption>image-20210715152412011</figcaption></figure></p>
<h4>用户管理</h4>
<p>默认情况下，系统允许用户自主修改个人信息，但不包括学工号，管理员可在用户管理界面修改用户所有信息包括学工号，可设置用户的权限角色。</p>
<p><figure><img data-width="1656" data-height="773" src="https://wiki.170601.xyz/archives/assets/a2744b93e8cae826660174cfb1e028c4.png" alt="image-20210715152701796" /><figcaption>image-20210715152701796</figcaption></figure></p>
<p><figure><img data-width="593" data-height="610" src="https://wiki.170601.xyz/archives/assets/ea5f68bd2517c253577b5ec7a9065024.png" alt="image-20210715152741758" /><figcaption>image-20210715152741758</figcaption></figure></p>
<h4>导出数据</h4>
<p>系统支持选择时间区间进行数任务单数据的导出，默认选择不包括当天的前一周提交的所有维修单数据，点击提交导出请求按钮，将会进行处理，稍等片刻，从下方的表格处点击下载按钮即可下载。</p>
<p><figure><img data-width="1385" data-height="842" src="https://wiki.170601.xyz/archives/assets/549faffc75aafe847f78503f18b40eea.png" alt="image-20210715152842355" /><figcaption>image-20210715152842355</figcaption></figure></p>
<blockquote><p>导出时间与服务器性能和数据数量有关，在开发者设备测试时，7万条数据导出时间在十秒钟左右。</p>
</blockquote>
<p>导出的EXCEL字段如下：</p>
<p><figure><img data-width="1756" data-height="174" src="https://wiki.170601.xyz/archives/assets/a39cdf8c9444f00acc534b7c6d591bac.png" alt="image-20210715153354710" /><figcaption>image-20210715153354710</figcaption></figure></p>
<h2>开发</h2>
<h3>普通部署</h3>
<p>所需环境及软件：</p>
<ul>
<li>64位Linux系统(建议Centos7，Ubuntu1804及以上)</li>
<li><p>OpenJDK11  (下载地址：<a href="http://jdk.java.net/java-se-ri/11">Java Platform, Standard Edition 11 Reference Implementations</a>)</p>
</li>
<li><p>Mysql8.0 （5.7 及以上）或MariaDB（推荐）</p>
</li>
<li>nginx（可选）</li>
</ul>
<p>在根目录创建文件夹，然后上传Jar包到服务器</p>
<div class="highlight"><pre><span></span><span class="nb">cd</span> /
mkdir hgnuman
// 上传jar包
</pre></div>
<p>然后使用以下命令运行：</p>
<div class="highlight"><pre><span></span>sudo -u root nohup /usr/bin/java -jar /hgnuman/hgnuman.jar --server.port<span class="o">=</span><span class="m">8036</span> &gt;&gt; /hgnuman/hgnuman.log <span class="m">2</span>&gt;<span class="p">&amp;</span><span class="m">1</span> <span class="p">&amp;</span>
</pre></div>
<p>等待一分钟左右，访问：<code>http://ip:8036</code> 查看是否启动成功，系统日志科查看<code>/hgnuman/hgnuman.log</code></p>
<h3>使用Docker部署</h3>
<p>创建文件夹</p>
<div class="highlight"><pre><span></span>sudo mkdir /opt/hgnuman/app
sudo mkdir /opt/hgnuman/files
</pre></div>
<p>将jar包和antispanmy.xml到files目录下，并复制jar包到app目录下
进入app目录编写Dockerfile</p>
<div class="highlight"><pre><span></span>vim Dockerfile
</pre></div>
<p>写入以下内容</p>
<div class="highlight"><pre><span></span><span class="c1"># Docker image for hgnuman</span>
<span class="c1"># VERSION 1.3.0</span>
<span class="c1"># Author: kaygb</span>
<span class="c1"># 基础镜像使用openjdk11</span>
FROM openjdk:11
<span class="c1"># 作者</span>
MAINTAINER kaygb &lt;hi@kezez.com&gt;
<span class="c1"># VOLUME 指定临时文件目录为/tmp。</span>
VOLUME /tmp
<span class="c1"># 将jar包添加到容器中并更名为app.jar</span>
ADD hgnuman-1.3.0-RELEASE.jar /opt/hgnuman/app.jar
RUN mkdir /opt/hgnuman/upload-files
RUN mkdir /opt/hgnuman/export
RUN mkdir /opt/hgnuman/import
<span class="c1"># 运行jar包</span>
RUN bash -c <span class="s1">&#39;touch /opt/hgnuman/app.jar&#39;</span>
ENTRYPOINT <span class="o">[</span><span class="s2">&quot;java&quot;</span>,<span class="s2">&quot;-jar&quot;</span>,<span class="s2">&quot;/opt/hgnuman/app.jar&quot;</span>,<span class="s2">&quot;--server.port=8036&quot;</span>,<span class="s2">&quot;&gt;&gt;&quot;</span>,<span class="s2">&quot;/opt/hgnuman/log/hgnuman.log&quot;</span>,<span class="s2">&quot;2&gt;&amp;1&quot;</span>,<span class="s2">&quot;&amp;&quot;</span><span class="o">]</span>
</pre></div>
<p>保存后构建容器镜像</p>
<div class="highlight"><pre><span></span>sudo docker build -t hgnuman .
</pre></div>
<p>启动容器</p>
<div class="highlight"><pre><span></span>sudo docker run -d -v /opt/hgnuman/files:/opt/hgnuman --net<span class="o">=</span>host --privileged<span class="o">=</span><span class="nb">true</span> hgnuman
</pre></div>
<blockquote><p>注意：如容器没有正常运行，请确认app.jar 在<code>/opt/hgnuman/files</code>中是否存在</p>
</blockquote>
<p>更新系统（更新jar包）</p>
<div class="highlight"><pre><span></span>sudo docker ps -a // 查看所有容器以及容器ID
sudo docker stop xxxxx<span class="o">(</span>容器id） // 停止容器
sudo rm -r app.jar  // 删除旧包（或修改文件名称）
// 上传新的jar包

sudo docker start xxxxx<span class="o">(</span>容器id<span class="o">)</span>启动容器，更新完成。
</pre></div>
<blockquote><p>查看日志命令：sudo docker logs hgnuman</p>
</blockquote>
<h2>反馈</h2>
<p>请查看关于页面。</p>
<blockquote><p>最后更新时间：2022-01-10</p>
</blockquote>
</article>
    </section>

    
    <section id="content-pager">
        
        
            <div class="prev">
                <a class="card" href="https://wiki.170601.xyz/archives/zh-doc-of-typecho-theme-winds/">
                    <time>May 12 2020</time>
                    <span>Typecho theme winds 使用文档</span>
                </a>
            </div>
        
    </section>
    

    

    <script>
        document.body.classList.add('content');
        document.body.classList.remove('archive');
    </script>
</div>
                    <footer>
                        <span>Copyright © 2022 珂泽</span>
                        
    

                        <span class="addon">
<a href="http://beian.miit.gov.cn/" target="_blank" rel="noopener">豫ICP备19002054号-5</a>
</span>
                    </footer>
                </div>
                
<aside id="toc-container" class="no-scrollbar">
    <span><i class="fa fa-align-right"></i> CONTENTS</span>
    <div id="toc"></div>
</aside>

            </div>
        </main>


        <script src="https://cdn.jsdelivr.net/npm/jquery@3.4.1/dist/jquery.min.js"></script>
        <script src="https://cdn.jsdelivr.net/npm/jquery-pjax@2.0.1/jquery.pjax.min.js"></script>
        <script src="https://cdn.jsdelivr.net/npm/tocbot@4.10.0/dist/tocbot.min.js"></script>
        <script src="https://cdn.jsdelivr.net/npm/nprogress@0.2.0/nprogress.min.js"></script>
        <script src="https://wiki.170601.xyz/assets/kepler-ef161b04d5.js"></script>
        <script>
            function ExSearchCall(item){
                if (item && item.length) {
                    $('.ins-close').click(); // 关闭搜索框
                    $('input.ins-search-input').val(''); // 清空
                    let url = item.attr('data-url'); // 获取目标页面 URL
                    $.pjax({url: url, 
                        container: '#pjax-container',
                        fragment: '#pjax-container',
                        timeout: 8000, }); // 发起一次 PJAX 请求
                }
            }
        </script>

        <!--Valine-->
        

        <!--ExSearch-->
        <script src="https://wiki.170601.xyz/assets/ExSearch/ExSearch-493cb9cd89.js"></script>
        
        <!--katex-->
        <link rel="stylesheet" href="https://wiki.170601.xyz/assets/katex.min.css">
        <script defer src="https://wiki.170601.xyz/assets/katex.min.js"></script>
        <script>
        mathOpts = {
            delimiters: [
                {left: "$$", right: "$$", display: true},
                {left: "\\[", right: "\\]", display: true},
                {left: "$", right: "$", display: false},
                {left: "\\(", right: "\\)", display: false}
            ]
        };
        </script>
        <script defer src="https://wiki.170601.xyz/assets/auto-render.min.js" onload="renderMathInElement(document.body, mathOpts);"></script>

        


    </body>
</html>